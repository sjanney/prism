# Example JSON dataset configuration for EdgeVLM
#
# This configuration file shows how to ingest a JSON dataset.
# Adjust the mapping fields to match your JSON structure.

format: json

# Input configuration
input:
  path: "data/my_dataset"        # Path to dataset directory (relative or absolute)
  pattern: "*.json"               # Glob pattern to match JSON files
  recursive: true                 # Search subdirectories recursively
  array_field: "frames"           # Optional: Field path to array of records
                                  # If not specified, assumes JSON file is an array
                                  # or contains a single record

# Field mapping: Maps JSON field paths (dot notation) to FrameMetadata fields
mapping:
  # Required fields (use dot notation for nested fields)
  frame_path: "metadata.file_path"      # JSON path: data["metadata"]["file_path"]
  timestamp: "metadata.timestamp"       # JSON path: data["metadata"]["timestamp"]
  camera_angle: "sensor.angle"          # JSON path: data["sensor"]["angle"]
  
  # Optional fields
  gps_lat: "location.lat"               # Nested field: data["location"]["lat"]
  gps_lon: "location.lon"               # Nested field: data["location"]["lon"]
  sensor_type: "camera"                 # Static value or field path like "$sensor.type"
  weather: "metadata.weather"           # Optional field
  
  # Optional: Default value for camera_angle if field is missing
  # camera_angle_default: "FRONT"

# Timestamp parsing format (optional, Python strptime format)
timestamp_format: "%Y-%m-%d %H:%M:%S"

# Example JSON structure (single file with array):
#
# {
#   "frames": [
#     {
#       "metadata": {
#         "file_path": "images/frame001.jpg",
#         "timestamp": "2024-01-15 10:30:00",
#         "weather": "clear"
#       },
#       "location": {
#         "lat": 37.7749,
#         "lon": -122.4194
#       },
#       "sensor": {
#         "angle": "FRONT",
#         "type": "camera"
#       }
#     },
#     ...
#   ]
# }
#
# Or array of records directly:
#
# [
#   {
#     "metadata": {
#       "file_path": "images/frame001.jpg",
#       ...
#     },
#     ...
#   },
#   ...
# ]

